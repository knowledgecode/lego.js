/*
 storage.js v0.1.0 (c) 2012 knowledgecode | MIT licensed
*/
(function(m,j){j("storage",["base64"],function(j,f){var e=m.sessionStorage,k=m.document,c=j("base64"),g,i,l,h={};g="object"===typeof e;i=function(){var a,b=0,d=0,c={};for(a=k.cookie.split("; ");a[b];){if(0===a[b].indexOf("sessionStorage=")){for(a=a[b].split("=")[1].split(",");a[d];)b=a[d].split(":"),c[b[0]]=b[1],d+=1;break}b+=1}return c};l=function(a){var b,d=0,c=[];for(b in a)a.hasOwnProperty(b)&&(c[d]=b+":"+a[b],d+=1);k.cookie="sessionStorage="+c.join(",")};f.length=0;f.getItem=g?function(a){return(a=
e.getItem(c.encodeSafe(a)))?c.decodeSafe(a):null}:function(a){return h[a]?h[a]:(a=i()[c.encodeSafe(a)])?c.decodeSafe(a):null};f.setItem=g?function(a,b){e.setItem(c.encodeSafe(a),c.encodeSafe(b));this.length=e.length}:function(a,b){var d=i(),e=c.encodeSafe(a);d.hasOwnProperty(e)||(this.length+=1);d[e]=c.encodeSafe(b);l(d);h[a]=b};f.removeItem=g?function(a){e.removeItem(c.encodeSafe(a));this.length=e.length}:function(a){var b=i(),d=c.encodeSafe(a);b.hasOwnProperty(d)&&(this.length-=1);delete b[d];l(b);
delete h[a]};f.clear=g?function(){e.clear();this.length=0}:function(){k.cookie="sessionStorage=; expires=Thu, 01-Jan-1970 00:00:00 GMT";h={};this.length=0}})})(this,lego.define);
